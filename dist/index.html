<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
  <link rel="stylesheet" href="./style.css">
  <style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    list-style-type: none;
  }
  main {
    padding: 16px;
  }

  /*2018/09/25*/
  /* section #js-letterList {
    margin-top: 83px;
  }

  .ll-tab__item{
    background-image: url(/image/tab/tab_off.sp.480.png);
    background-repeat:  no-repeat;
    background-size: 100%;
    background-position:  center;
    height: 66px;
    width: 100%;
    border: 0;
    color:#fff;
  }
  .ll-tab__item.ll-tab__short {
    color: #9686d4;
  }
  .ll-tab__item.ll-tab__long {
    color: #5BC3C9;
  }
  .ll-tab__item.ll-tab__middle {
    color: #75ABEB;
  }
  .ll-tab__item.ll-tab__update {
    color: #4F4F4F;
  }

  .slick-slide.slick-active {
    outline: 0;
  }

  @media (max-width:320px){
    .ll-tab .slick-slide{
      width: 82px !important;
    }
  }

  .ll-content__title {
    border:  1px solid #fff;
    border-left: 0;
    border-right: 0;
    font-size: 18px;
    padding-bottom:  16px;
  }


  .ll-body::before {
    content:  "";
    position: absolute;
    background: url(/image/banner/impact.sp.480.png),linear-gradient( 0deg, transparent 50%, #fcf9e8 50%);
    display: block;
    background-size:  contain;
    background-repeat:  no-repeat;
    background-position: center;
    width: 100%;
    padding-bottom: 10%;
    top: -16px;
  }

  .ll-body {
    position: relative;
    background-image: url(/image/line/line_bottom.sp.480.png),url(/image/bgimg/impact_base.sp.480.png);
    padding-top: 15%;
    padding-bottom: 30px;
    background-repeat: no-repeat;
    background-position: bottom,center 0px;
    background-size: 100%,cover;
  } */
</style>

</head>
<body>
<main>

<section>
  <div id="js-letterList" class="ll-body">
    <div class="ll-tab">
      <div><div class="ll-tab__item ll-tab__new">新着</div></div>
      <div><div class="ll-tab__item ll-tab__short">短期</div></div>
      <div><div class="ll-tab__item ll-tab__long">中期</div></div>
      <div><div class="ll-tab__item ll-tab__year">長期<br></div></div>
    </div>
    <div class="ll-content">
      <div v-for="( loop, index ) in 5" :class="llContentArea(index)">
        <div class="ll-content__area">
          <div class="ll-content__title" v-html="llContentTitle(index)"></div>
          <ul v-if="index == 0">
            <li class="ll-content__item" v-for="( item, key ) in list" v-if="llContentNewFlag(item.midoku, item.planet_move)" :class="llContentCategory(item.list_number)">
              <a :href="item.page" :class="llContentRead(item.midoku)">
                <div class="ll-content__date" v-html="item.period"></div>
                <div class="ll-content__text">
                  <span>{{ item.menu_name }}</span>
                </div>
                <div class="ll-content__planetNote" :class="item.list_number_pickup">
                  <span></span>
                </div>
                <div class="ll-content__listCategory">
                  <span></span>
                </div>
              </a>
            </li>
            <li class="ll-content__item" v-for="( item, key ) in list" v-if="llContentReadFlag(item.midoku)" :class="llContentCategory(item.list_number)">
              <a :href="item.page" :class="llContentRead(item.midoku)">
                <div class="ll-content__date" v-html="item.period"></div>
                <div class="ll-content__text">
                  <span>{{ item.menu_name }}</span>
                </div>
                <div class="ll-content__planetNote" :class="item.list_number_pickup">
                  <span></span>
                </div>
                <div class="ll-content__listCategory">
                  <span></span>
                </div>
              </a>
            </li>
          </ul>
          <ul v-else>
            <li class="ll-content__item" v-for="( item, key ) in list"  v-if="item.list_number == index" :class="llContentCategory(item.list_number)">
              <a :href="item.page" :class="llContentRead(item.midoku)">
                <div class="ll-content__date" v-html="item.period"></div>
                <div class="ll-content__text">
                  <span>{{ item.menu_name }}</span>
                </div>
                <div class="ll-content__planetNote" :class="item.list_number_pickup">
                  <span></span>
                </div>
              </a>
            </li>
          </ul>

          <div class="ll-content__title" v-html="llContentTitle(4)" v-if="index == 3"></div>
          <ul v-if="index == 3">
            <li class="ll-content__item" v-for="( item, key ) in list" v-if="item.list_number == index + 1" :class="llContentCategory(item.list_number)">
              <a :href="item.page">
                <div class="ll-content__text">
                  <span>{{ item.menu_name }}</span>
                </div>
                <div class="ll-content__planetNote" :class="item.list_number_pickup">
                  <span></span>
                </div>
              </a>
            </li>
          </ul>

        </div>
      </div>
    </div>
  </div>
</section>

<pre>
  [%FOREACH p=pickup%]
  {
    "list_number": "[%p.image%]",
    "menu_name": "[% p.menu_name %]",
    "planet_move": "[% IF p.is_read == 1 && p.is_midoku == 0 %]1[% ELS %]0[%END%]",
    "midoku": "[% p.is_midoku %]",
    "period": "[% p.period %]",
    "page": "t.cgi?t=[%p.page%]&menu_id=[%p.menu_id%]&<!--DEF_P-->",
    "menu_id": "[%p.menu_id%]",
    "image_pickup": "planet_[%p.image_pickup%]",
  },[%END%]
</pre>

</main>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
<script src="https://code.jquery.com/jquery-migrate-3.0.0.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

<script>
new Vue({
  el: '#js-letterList',
  data: {
    list: [
      {
        "list_number": "2",
        "menu_name": "2_今のあなたの運勢とテーマ",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/7-11/5",
        "page": "t.cgi?t=m/fortune/result&menu_id=301&zspid=wzappallas",
        "menu_id": "301",
        "image_pickup": "planet_4",
      },
      {
        "list_number": "2",
        "menu_name": "2_仕事では何をするのに適したとき？",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/7-11/5",
        "page": "t.cgi?t=m/fortune/result&menu_id=303&zspid=wzappallas",
        "menu_id": "303",
        "image_pickup": "planet_4",
      },
      {
        "list_number": "1",
        "menu_name": "1_これからの対人運は？",
        "planet_move": "1",
        "midoku": "0",
        "period": "9/30-10/18",
        "page": "t.cgi?t=m/fortune/result&menu_id=304&zspid=wzappallas",
        "menu_id": "304",
        "image_pickup": "planet_2",
      },
      {
        "list_number": "2",
        "menu_name": "2_今のスランプ状態から抜け出すには？",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/7-11/5",
        "page": "t.cgi?t=m/fortune/result&menu_id=311&zspid=wzappallas",
        "menu_id": "311",
        "image_pickup": "planet_4",
      },
      {
        "list_number": "1",
        "menu_name": "1_今日の月が教えてくれる最適な過ごし方",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/9-10/10",
        "page": "t.cgi?t=m/fortune/result&menu_id=313&zspid=wzappallas",
        "menu_id": "313",
        "image_pickup": "planet_1",
      },
      {
        "list_number": "1",
        "menu_name": "1_今日の月が教えてくれる全体的なムード",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/10-10/11",
        "page": "t.cgi?t=m/fortune/result&menu_id=315&zspid=wzappallas",
        "menu_id": "315",
        "image_pickup": "planet_1",
      },
      {
        "list_number": "4",
        "menu_name": "4_今期のあなたの心理と大切な裏テーマ",
        "planet_move": "1",
        "midoku": "1",
        "period": "",
        "page": "t.cgi?t=m/fortune2/result&menu_id=401&zspid=wzappallas",
        "menu_id": "401",
        "image_pickup": "planet_1",
      },
      {
        "list_number": "4",
        "menu_name": "4_ここ半年以上、不調続き。どう過ごせば改善できる？",
        "planet_move": "1",
        "midoku": "1",
        "period": "",
        "page": "t.cgi?t=m/fortune2/result&menu_id=402&zspid=wzappallas",
        "menu_id": "402",
        "image_pickup": "planet_1",
      },
      {
        "list_number": "1",
        "menu_name": "1_恋愛では何をするのに適したとき？",
        "planet_move": "0",
        "midoku": "1",
        "period": "8/20-12/20",
        "page": "t.cgi?t=m/fortune/result&menu_id=302&zspid=wzappallas",
        "menu_id": "302",
        "image_pickup": "planet_3",
      },
      {
        "list_number": "1",
        "menu_name": "1_これから起こりそうな嬉しいことは？",
        "planet_move": "1",
        "midoku": "1",
        "period": "8/20-12/20",
        "page": "t.cgi?t=m/fortune/result&menu_id=305&zspid=wzappallas",
        "menu_id": "305",
        "image_pickup": "planet_3",
      },
      {
        "list_number": "2",
        "menu_name": "2_しばらくは何を気をつけたらいい？",
        "planet_move": "0",
        "midoku": "1",
        "period": "4/22-10/29",
        "page": "t.cgi?t=m/fortune/result&menu_id=306&zspid=wzappallas",
        "menu_id": "306",
        "image_pickup": "planet_5",
      },
      {
        "list_number": "3",
        "menu_name": "3_この時期訪れやすいチャンスや幸運",
        "planet_move": "0",
        "midoku": "1",
        "period": "10/10-11/7",
        "page": "t.cgi?t=m/fortune/result&menu_id=307&zspid=wzappallas",
        "menu_id": "307",
        "image_pickup": "planet_6",
      },
      {
        "list_number": "3",
        "menu_name": "3_この時期幸運をつかむためには",
        "planet_move": "0",
        "midoku": "1",
        "period": "7/14-1/23",
        "page": "t.cgi?t=m/fortune/result&menu_id=308&zspid=wzappallas",
        "menu_id": "308",
        "image_pickup": "planet_6",
      },
      {
        "list_number": "3",
        "menu_name": "3_この時期起こりうる試練",
        "planet_move": "0",
        "midoku": "1",
        "period": "12/20-3/21",
        "page": "t.cgi?t=m/fortune/result&menu_id=309&zspid=wzappallas",
        "menu_id": "309",
        "image_pickup": "planet_7",
      },
      {
        "list_number": "3",
        "menu_name": "3_この時期試練を克服するためには",
        "planet_move": "0",
        "midoku": "1",
        "period": "11/19-3/22",
        "page": "t.cgi?t=m/fortune/result&menu_id=310&zspid=wzappallas",
        "menu_id": "310",
        "image_pickup": "planet_7",
      },
      {
        "list_number": "2",
        "menu_name": "2_急に感じが悪くなったあの人。その理由は？",
        "planet_move": "0",
        "midoku": "1",
        "period": "4/22-10/29",
        "page": "t.cgi?t=m/fortune/result&menu_id=312&zspid=wzappallas",
        "menu_id": "312",
        "image_pickup": "planet_5",
      },
      {
        "list_number": "2",
        "menu_name": "2_最近イライラ続き。一体何が原因？",
        "planet_move": "0",
        "midoku": "1",
        "period": "4/22-10/29",
        "page": "t.cgi?t=m/fortune/result&menu_id=314&zspid=wzappallas",
        "menu_id": "314",
        "image_pickup": "planet_5",
      },
      {
        "list_number": "4",
        "menu_name": "4_大きく変わってしまったあの人。今のあの人の心境は？",
        "planet_move": "1",
        "midoku": "1",
        "period": "",
        "page": "t.cgi?t=m/fortune2/result&menu_id=403&zspid=wzappallas",
        "menu_id": "403",
        "image_pickup": "planet_1",
      },
    ],
  },
  methods: {
    llContentNewFlag: function(read, planet) {
      if (read == 1 && planet == 0) {
        return false
      } else if (read == 0 || planet == 1) {
        return true
      } else {
        return
      }
    },
    llContentReadFlag: function(read) {
      if (read == 1) {
        return true
      } else {
        return false
      }
    },
    llContentArea: function(index) {
      if( index == 0 ) {
        return 'bg-new';
      } else if( index == 1 ) {
        return 'bg-short';
      } else if( index == 2 ) {
        return 'bg-long';
      } else {
        return 'bg-year';
      }
    },
    llContentTitle: function(index) {
      if( index == 0 ) {
        return '<span>～数日間から一ヶ月～</span>';
      } else if ( index == 1 ) {
        return '<span>～ショート〜</span>';
      } else if ( index == 2 ) {
        return '<span>～ロング〜</span>';
      } else if ( index == 3 ) {
        return '<span>～年間〜</span>';
      } else if ( index == 4 ){
        return '<span>～プログレス〜</span>';
      } else {
        return
      }
    },
    llContentCategory: function(index) {
      if( index == 1 ) {
        return 'cate-short';
      } else if( index == 2 ) {
        return 'cate-long';
      } else if( index == 3 ) {
        return 'cate-year';
      } else {
        return 'cate-prog';
      }
    },
    llContentRead: function(index) {
      if( index == 1 ) {
        return 'bg-read';
      } else {
        return
      }
    },
  }
});

$('#js-letterList .ll-content').slick({
  slidesToShow: 1,
  slidesToScroll: 1,
  arrows: false,
  fade: true,
  swipe: false,
  adaptiveHeight: true,
  asNavFor: '#js-letterList .ll-tab'
});
$('#js-letterList .ll-tab').slick({
  slidesToShow: 4,
  // slidesToScroll: 1,
  asNavFor: '#js-letterList .ll-content',
  dots: false,
  centerMode: false,
  focusOnSelect: true
});

</script>
</body>
</html>
